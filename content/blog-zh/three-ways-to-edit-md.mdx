---
draft: false
consumes:
  - file: /packages/gatsby-tinacms-remark/src/RemarkForm.tsx
    details: æ¼”ç¤ºRemarkFormçš„ä½¿ç”¨
  - file: /packages/gatsby-tinacms-remark/src/remarkFormHoc.tsx
    details: å±•ç¤ºå¦‚ä½•ä½¿ç”¨remarkForm HOC
  - file: /packages/gatsby-tinacms-remark/src/useRemarkForm.tsx
    details: æ¼”ç¤ºuseLocalRemarkFormçš„ç”¨æ³•
warningMessage: >-
  **æ›´æ–°ï¼š** æœ¬æ–‡ä¸­çš„ç¤ºä¾‹å¼•ç”¨äº†è¿‡æ—¶çš„Gatsbyå®ç°ã€‚æˆ‘ä»¬å»ºè®®ä½¿ç”¨[Next.js](/docs/setup-overview/)æ¥è·å¾—æ›´å°‘æ‘©æ“¦çš„è§£å†³æ–¹æ¡ˆã€‚
seo:
  title: ä½¿ç”¨Tinaç¼–è¾‘Markdownçš„ä¸‰ç§æ–¹å¼ | TinaCMSåšå®¢
  description: >-
    å‘ç°ä½¿ç”¨TinaCMSç¼–è¾‘Markdownå†…å®¹çš„ä¸‰ç§ä¸åŒæ–¹æ³•ï¼Œä¸ºç®¡ç†æ‚¨çš„å†…å®¹æä¾›çµæ´»æ€§å’Œæ•ˆç‡ã€‚
title: ä½¿ç”¨Tina + Gatsbyç¼–è¾‘Markdownçš„3ç§æ–¹å¼
date: '2020-01-09T07:00:00.000Z'
author: Thomas Weibenfalk
prev: content/blog-zh/using-tinacms-on-gatsby-cloud.mdx
next: content/blog-zh/exporting-wordpress-content-to-gatsby.mdx
---

**é€šè¿‡å®æ—¶å†…å®¹ç¼–è¾‘ä¸ºæ‚¨çš„é™æ€ç½‘ç«™å¢æ·»åŠ¨åŠ›ï¼** ğŸš€

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†æ¢è®¨Tinaæä¾›çš„*ä¸‰ç§ä¸åŒæ–¹æ³•*æ¥ç¼–è¾‘æ‚¨Gatsbyç½‘ç«™ä¸Šçš„Markdownã€‚æ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨Page Querieså’ŒStatic Queriesæ¥è®¾ç½®Tinaã€‚

*æœ¬æ–‡ä¸ä¼šæ¶µç›–åœ¨Gatsbyä¸­ä½¿ç”¨Tinaçš„åŸºç¡€çŸ¥è¯†ã€‚è¯·å‚è€ƒ[æ–‡æ¡£](/docs/guides/converting-gatsby-to-tina)äº†è§£å¦‚ä½•æœ€åˆè®¾ç½®Tinaä¸Gatsbyã€‚*

## Page Querieså’ŒStatic Queriesæ˜¯ä»€ä¹ˆï¼Ÿ

åœ¨æ·±å…¥äº†è§£å¦‚ä½•ä½¿ç”¨Tinaç¼–è¾‘Markdownä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»äº†è§£Gatsbyå¦‚ä½•ä½¿ç”¨GraphQLå¤„ç†æ•°æ®æŸ¥è¯¢ã€‚æ‚¨å¯ä»¥åœ¨Gatsbyä¸­å‡ ä¹ä»ä»»ä½•åœ°æ–¹è·å–æ•°æ®ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨*Markdown*ã€‚å½“æ‚¨æ„å»ºç½‘ç«™æ—¶ï¼ŒGatsbyä¼šä¸ºæ‰€æœ‰æ•°æ®åˆ›å»ºä¸€ä¸ªGraphQLæ¨¡å¼ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥åœ¨Reactç»„ä»¶ä¸­ä½¿ç”¨[GraphQL](https://graphql.org/learn/)æ¥æŸ¥è¯¢æ‚¨çš„æ•°æ®æºã€‚

Gatsbyå…è®¸æ‚¨é€šè¿‡ä¸¤ç§æ–¹å¼æŸ¥è¯¢æ•°æ®ï¼š*[Page Querieså’ŒStatic Queries](https://www.gatsbyjs.org/docs/static-vs-normal-queries/)*ã€‚
è‡ªä»å‘å¸ƒ[React Hooks API](https://reactjs.org/docs/hooks-intro.html)å’ŒGatsbyä¸­çš„[`useStaticQuery` hook](https://www.gatsbyjs.org/docs/use-static-query/)ä»¥æ¥ï¼ŒæŸ¥è¯¢æ•°æ®å˜å¾—éå¸¸å®¹æ˜“ã€‚ä¸è¿‡ï¼Œæœ‰äº›æƒ…å†µä¸‹æ‚¨ä¸èƒ½ä½¿ç”¨Static Queryã€‚é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ¢è®¨ä¸€ä¸‹å®ƒä»¬çš„åŒºåˆ«ã€‚

### ä¸¤è€…çš„ä¸»è¦åŒºåˆ«æ˜¯ï¼š

* Page Querieså¯ä»¥æ¥å—GraphQLå˜é‡ã€‚Static Queriesä¸èƒ½ã€‚
* Page Queriesåªèƒ½æ·»åŠ åˆ°é¡µé¢ç»„ä»¶ä¸­ã€‚Static Querieså¯ä»¥åœ¨æ‰€æœ‰ç»„ä»¶ä¸­ä½¿ç”¨ã€‚

é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆä¸èƒ½åœ¨Static Queryä¸­ä½¿ç”¨GraphQLå˜é‡å‘¢ï¼ŸåŸå› æ˜¯Static Queryæ— æ³•åƒPage Queryé‚£æ ·è®¿é—®é¡µé¢ä¸Šä¸‹æ–‡ã€‚ç»“æœæ˜¯Static Queryæ— æ³•è®¿é—®åœ¨é¡µé¢ä¸Šä¸‹æ–‡ä¸­å®šä¹‰çš„å˜é‡ã€‚æ‚¨å¯ä»¥åœ¨`gatsby-node.js`æ–‡ä»¶ä¸­çš„`createPage`å‡½æ•°ä¸­å®šä¹‰é¡µé¢ä¸Šä¸‹æ–‡ã€‚åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥ä¸ºé¡µé¢æä¾›ä¸åŒçš„å˜é‡ï¼Œè¿™äº›å˜é‡å°†åœ¨æ„å»ºæ—¶æ³¨å…¥åˆ°é¡µé¢ä¸­ã€‚

æˆ‘å°½å¯èƒ½å¤šåœ°ä½¿ç”¨Static Queriesï¼Œå› ä¸ºæˆ‘å–œæ¬¢hooks APIåŠå…¶å¸¦æ¥çš„ç»„åˆå¯èƒ½æ€§ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰hookså¹¶åœ¨å¤šä¸ªç»„ä»¶ä¸­é‡ç”¨å®ƒä»¬ã€‚

å‡è®¾æ‚¨æœ‰ä¸€ä¸ªGraphQLæŸ¥è¯¢ï¼Œå®ƒè·å–æ‚¨æƒ³åœ¨å¤šä¸ªé¡µé¢ä¸Šä½¿ç”¨çš„å…ƒæ•°æ®ã€‚åˆ›å»ºä¸€ä¸ªåŒ…å«`useStaticQuery` Gatsby hookçš„è‡ªå®šä¹‰React hookã€‚ç„¶åï¼Œæ‚¨å¯ä»¥åœ¨ä»»ä½•éœ€è¦çš„åœ°æ–¹ä½¿ç”¨æ‚¨çš„è‡ªå®šä¹‰hookï¼Œå¹¶å§‹ç»ˆè½»æ¾åœ°å°†æ•°æ®è·å–åˆ°æ‚¨çš„ç»„ä»¶ä¸­ã€‚å½“æ‚¨éœ€è¦åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å˜é‡æ—¶ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨Page Queryã€‚Page Queriesä¸èƒ½ä¸hooks APIä¸€èµ·ä½¿ç”¨ï¼Œå¿…é¡»æ˜¯å”¯ä¸€çš„å¹¶é™„åŠ åˆ°ç‰¹å®šçš„é¡µé¢ç»„ä»¶ã€‚

Static Queriesçš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œæ‚¨å¯ä»¥åœ¨éœ€è¦æ•°æ®çš„ç»„ä»¶ä¸­è·å–æ•°æ®ã€‚è¿™å¯ä»¥é˜²æ­¢*[prop drilling](https://kentcdodds.com/blog/prop-drilling)*ï¼Œå¹¶ä¸”æ‚¨çš„æ•°æ®ä¸ä½¿ç”¨å®ƒçš„ç»„ä»¶æ›´åŠ ç´§å¯†è€¦åˆã€‚

## Reactæ¦‚è¿°

ä¸ºäº†è·å–æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Gatsbyçš„æŸ¥è¯¢é€‰é¡¹ã€‚ä¸ºäº†æ„å»ºæˆ‘ä»¬çš„ç»„ä»¶ï¼ŒReactè¿˜æä¾›äº†ä¸€äº›é€‰é¡¹ã€‚æ‚¨å¯ä»¥å°†ç»„ä»¶åˆ›å»ºä¸º[ç±»ç»„ä»¶æˆ–å‡½æ•°ç»„ä»¶](https://reactjs.org/docs/components-and-props.html)ã€‚åœ¨React Hooks APIä¹‹å‰ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨ç±»ç»„ä»¶æ¥åœ¨ç»„ä»¶ä¸­æ‹¥æœ‰çŠ¶æ€ã€‚ç°åœ¨æœ‰äº†hooksï¼Œæ‚¨å¯ä»¥åœ¨å‡½æ•°ç»„ä»¶ä¸­åšåˆ°è¿™ä¸€ç‚¹ã€‚ğŸ¥°

## ä½¿ç”¨Tinaç¼–è¾‘Markdownçš„ä¸‰ç§æ–¹å¼

é‰´äºåœ¨Gatsbyä¸­åˆ›å»ºç»„ä»¶å’Œè·å–æ•°æ®çš„æ‰€æœ‰é€‰é¡¹ï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºé¡¹ç›®é€‰æ‹©æœ€åˆé€‚çš„æ–¹æ³•ã€‚Tinaå¯ä»¥ä¸æ‰€æœ‰è¿™äº›é€‰é¡¹ä¸€èµ·å·¥ä½œï¼Œæä¾›**[ä¸‰ç§ä¸åŒçš„æ–¹æ³•](/docs/guides/converting-gatsby-to-tina)**æ¥ç¼–è¾‘Gatsbyä¸­çš„Markdownï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚

* **remarkForm** - ä¸€ä¸ª[é«˜é˜¶ç»„ä»¶](https://reactjs.org/docs/higher-order-components.html)ï¼Œç”¨äºä»Gatsbyä¸­çš„Page Queryè·å–æ•°æ®æ—¶ä½¿ç”¨ã€‚æ­¤ç»„ä»¶å¯ç”¨äºå‡½æ•°å’Œç±»ç»„ä»¶ã€‚è¯·æ³¨æ„è¿™é‡Œçš„ç»†å¾®å·®åˆ«ï¼ä¸æ¸²æŸ“propsç»„ä»¶çš„å”¯ä¸€å‘½ååŒºåˆ«æ˜¯å°å†™çš„â€œrâ€ã€‚
* **useLocalRemarkForm** - ä¸€ä¸ª[React Hook](https://reactjs.org/docs/hooks-overview.html)ï¼Œç”¨äºä»Staticæˆ–Page Queryè·å–æ•°æ®çš„å‡½æ•°ç»„ä»¶ã€‚å¦‚æœç»„ä»¶è·å–çš„æ˜¯é™æ€æ•°æ®ï¼Œå°†è°ƒç”¨Gatsbyçš„`useStaticQuery` hookã€‚
* **RemarkForm** - ä¸€ä¸ª[æ¸²æŸ“Propsç»„ä»¶](https://reactjs.org/docs/render-props.html)ï¼Œæ‚¨å¯ä»¥åœ¨ç±»ç»„ä»¶ä¸­ä½¿ç”¨ï¼Œä»Staticæˆ–Page Queryè·å–æ•°æ®ã€‚é™æ€æ•°æ®å°†é€šè¿‡Gatsbyçš„`StaticQuery`æ¸²æŸ“Propsç»„ä»¶è·å–ã€‚

### remarkForm - å¦‚ä½•ä½¿ç”¨ä»¥åŠä¸ºä»€ä¹ˆå®ƒä¸èƒ½ä¸Static Queriesä¸€èµ·ä½¿ç”¨

é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ·±å…¥äº†è§£å¦‚ä½•å°†TinaCMSä¸Page Queryè¿æ¥èµ·æ¥ã€‚
TinaCMSä¸­çš„`remarkForm`ç»„ä»¶æ˜¯ä¸€ä¸ª[é«˜é˜¶ç»„ä»¶](https://reactjs.org/docs/higher-order-components.html)ï¼Œç®€ç§°HOCã€‚è¿™æ„å‘³ç€å®ƒæ˜¯ä¸€ä¸ªæ¥å—å¦ä¸€ä¸ªç»„ä»¶å¹¶è¿”å›ä¸€ä¸ªå…·æœ‰é™„åŠ åŠŸèƒ½çš„æ–°ç»„ä»¶çš„å‡½æ•°ã€‚

> å¦‚æœæ‚¨ä¸ç†Ÿæ‚‰HOCï¼Œæˆ‘å»ºè®®æ‚¨åœ¨[Reactå®˜æ–¹æ–‡æ¡£](https://legacy.reactjs.org/docs/higher-order-components.html)ä¸­é˜…è¯»ç›¸å…³å†…å®¹ã€‚å®ƒä»¬åœ¨Reactä¸–ç•Œä¸­è¢«è®¤ä¸ºæ˜¯â€œé«˜çº§ç”¨æ³•â€ã€‚

`remarkForm`ç»„ä»¶éœ€è¦å¦ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œå¹¶ç”¨äºPage Queriesã€‚Page Queryå°†æ•°æ®ä½œä¸ºpropæ³¨å…¥åˆ°ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬ä»è¿™ä¸ªpropä¸­è®¿é—®æ•°æ®ã€‚ä½¿ç”¨`useStaticQuery` hookï¼Œæ•°æ®åœ¨ç»„ä»¶å†…éƒ¨çš„ä¸€ä¸ªå˜é‡ä¸­æ”¶é›†ï¼Œè¿™æ„å‘³ç€å¦‚æœæ‚¨åœ¨Gatsbyä¸­ä½¿ç”¨`useStaticQuery` hookï¼Œæ‚¨å°†æ²¡æœ‰ç»„ä»¶æ¥æä¾›ç»™`remarkForm` HOCã€‚é—æ†¾ï¼ğŸ˜ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ‚¨åªèƒ½å°†`remarkForm`ç»„ä»¶ä¸Page Queriesä¸€èµ·ä½¿ç”¨ã€‚

é‚£ä¹ˆ**å¦‚ä½•åœ¨Gatsbyä¸­ä½¿ç”¨è¿™ä¸ªç»„ä»¶ä¸Page Query**å‘¢ï¼Ÿé¦–å…ˆï¼ŒæŸ¥çœ‹ä¸‹é¢çš„è™šæ„æ˜Ÿçƒå¤§æˆ˜ç»„ä»¶ã€‚å®ƒå°†å±•ç¤ºè¿æ¥æ‰€æœ‰å†…å®¹æ‰€éœ€çš„ä¸‰ä¸ªæ­¥éª¤ï¼š

```javascript
// 1. å¯¼å…¥`remarkForm` HOC
import { remarkForm } from 'gatsby-tinacms-remark'

const StarWarsMovie = ({ data: { markdownRemark } }) => {
  return <h1>{markdownRemark.frontmatter.title}</h1>
}

// 2. ä½¿ç”¨`remarkForm`åŒ…è£…æ‚¨çš„ç»„ä»¶
export default remarkForm(StarWarsMovie)

// 3. å°†æ‰€éœ€çš„...TinaRemarkç‰‡æ®µæ·»åŠ åˆ°æ‚¨çš„Page Queryä¸­
export const pageQuery = graphql`
  query StarWarsMovieById($id: String!) {
    markdownRemark(fields: { id: { eq: $id } }) {
      id
      html
      frontmatter {
        title
        releaseDate
        crawl
      }
      ...TinaRemark
    }
  }
`
```

ä¸Šé¢çš„ä»£ç æ˜¯ä¸€ä¸ªæ˜¾ç¤ºæ˜Ÿçƒå¤§æˆ˜ç”µå½±ä¿¡æ¯çš„ç»„ä»¶ã€‚ç›®å‰ï¼Œå®ƒåªæ˜¾ç¤ºä¸€ä¸ªæ ‡é¢˜ï¼Œä½†å®ƒä¹Ÿå¯ä»¥æ˜¾ç¤ºå‘å¸ƒæ—¥æœŸå’Œç”µå½±å¼€å¤´çš„çˆ¬è¡Œæ–‡æœ¬ã€‚ä½†é‚£æ˜¯å¦ä¸€ä¸ªé¥è¿œæ˜Ÿç³»ä¸­çš„æ•…äº‹... â­

è¿™ä¸ªä¾‹å­ä¸­çš„ç¬¬ä¸€æ­¥æ˜¯ä»Gatsbyæ’ä»¶`gatsby-tinacms-remark`ä¸­å¯¼å…¥`remarkForm` hookã€‚è¿™æ˜¯*ä½¿TinaCMSä¸Markdownæ–‡ä»¶ä¸€èµ·å·¥ä½œ*çš„æ’ä»¶ã€‚

æ— éœ€å¯¹ç»„ä»¶å†…éƒ¨çš„ä»£ç è¿›è¡Œä»»ä½•æ·»åŠ ã€‚å®ƒå¯ä»¥æ˜¯ä»»ä½•ç»„ä»¶â€”â€”å‡½æ•°æˆ–ç±»â€”â€”æŒ‰ç…§æ‚¨æƒ³è¦çš„æ–¹å¼æ„å»ºã€‚æ‚¨å”¯ä¸€éœ€è¦å¯¹ç»„ä»¶æœ¬èº«åšçš„å°±æ˜¯åœ¨å¯¼å‡ºæ—¶ä½¿ç”¨`remarkForm` HOCåŒ…è£…æ‚¨çš„ç»„ä»¶ã€‚

åœ¨æ‚¨å‡†å¤‡å¥½ä¹‹å‰ï¼Œæ‚¨è¿˜éœ€è¦åšä¸€ä»¶äº‹ï¼Œå°±æ˜¯åœ¨æŸ¥è¯¢ä¸­æ·»åŠ GraphQLç‰‡æ®µ`...TinaRemark`ã€‚è¿™æ˜¯TinaCMSè¯†åˆ«æ‚¨çš„æ•°æ®å¹¶åœ¨TinaCMSä¾§è¾¹æ ä¸­åˆ›å»ºæ‰€éœ€ç¼–è¾‘å™¨å­—æ®µæ‰€å¿…éœ€çš„ã€‚ä¹‹åï¼Œæ‚¨åªéœ€å¯åŠ¨å¼€å‘æœåŠ¡å™¨ä»¥æ˜¾ç¤ºç½‘ç«™å’ŒTinaä¾§è¾¹æ ã€‚

å¤Ÿç®€å•å§ï¼Ÿåªéœ€ä¸‰ä¸ªå°æ­¥éª¤ï¼Œæ‚¨å°±å¯ä»¥åœ¨ç½‘ç«™ä¸Šç¼–è¾‘å†…å®¹çš„æ¼‚äº®ä¾§è¾¹æ ã€‚ğŸ¤Ÿ

*ä½†å¦‚æœæ‚¨æƒ³ä½¿ç”¨Static Queryè€Œä¸æ˜¯Page Queryæ€ä¹ˆåŠï¼Ÿ*

### useLocalRemarkFormæ¥æ•‘æ´ï¼

æˆ‘ä»¬å·²ç»äº†è§£åˆ°`remarkForm` HOCæ— æ³•åœ¨Static Queriesä¸Šå·¥ä½œã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»æ‰¾åˆ°å¦ä¸€ç§è§£å†³æ–¹æ¡ˆæ¥ä½¿ç”¨TinaCMSçš„Static Queriesã€‚

**å¥½æ¶ˆæ¯ï¼**

`remarkForm`ç»„ä»¶æœ¬è´¨ä¸Šæ˜¯`useLocalRemarkForm` hookçš„â€œåŒ…è£…å™¨â€ã€‚ğŸ‘€ å®ƒæ¥å—ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œä½¿ç”¨Page Queryæ•°æ®è°ƒç”¨`useLocalRemarkForm`ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¸¦æœ‰æŸ¥è¯¢æ•°æ®å’ŒTinaCMSè¿æ¥çš„æ–°ç»„ä»¶ã€‚

æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨`useLocalRemarkForm` hookï¼Œè€Œä¸ä½¿ç”¨`remarkForm` HOCã€‚è¿™åœ¨Static Queriesä¸­æˆ–æˆ‘ä»¬åªæ˜¯å–œæ¬¢ä½¿ç”¨hooksæ—¶éå¸¸æœ‰ç”¨ï¼

çœ‹çœ‹ä¸‹é¢çš„ä»£ç ç¤ºä¾‹ï¼Œäº†è§£`useLocalRemarkForm`çš„å·¥ä½œåŸç†ã€‚

```javascript
// 1. å¯¼å…¥useLocalRemarkForm hook
import React from â€˜reactâ€™;
import { useLocalRemarkForm } from â€˜gatsby-tinacms-remarkâ€™;
import { useStaticQuery } from â€˜gatsbyâ€™;

const StarWarsMovie = () => {
  // 2. å°†æ‰€éœ€çš„TinaCMSç‰‡æ®µæ·»åŠ åˆ°GraphQLæŸ¥è¯¢ä¸­
    const data = useStaticQuery(graphql`
      query StarWarsMovieById {
        markdownRemark(fields: { id: { eq: "sw-01" } }) {
          id
          html
          frontmatter {
            title
            releaseDate
            crawl
          }
          ...TinaRemark
        }
      }
    `);
  // 3. è°ƒç”¨useLocalRemarkForm hookå¹¶ä¼ å…¥æ•°æ®
  const [markdownRemark] = useLocalRemarkForm(data.markdownRemark);
  return <h1>{markdownRemark.frontmatter.title}</h1>
}

export default StarWarsMovie;
```

è¿™åªæ˜¯ä¸€ä¸ªç¤ºä¾‹ç»„ä»¶ï¼Œè¯´æ˜`useLocalRemarkForm`çš„å·¥ä½œåŸç†ã€‚åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œä½¿ç”¨Static Queryä¸æ˜¯ä¸€ä¸ªæœ€ä½³è§£å†³æ–¹æ¡ˆã€‚å› ä¸ºï¼Œæ­£å¦‚æ‚¨æ‰€è§ï¼Œæ‚¨æ— æ³•åœ¨`useStaticQuery` hookä¸­ä½¿ç”¨å˜é‡æ¥ä½¿å…¶åŠ¨æ€åŒ–ã€‚æ‚¨å¿…é¡»ç¡¬ç¼–ç ç”µå½±IDã€‚å› æ­¤ï¼Œæ­¤æŸ¥è¯¢ä»…é€‚ç”¨äºç‰¹å®šç”µå½±ï¼Œè¿™ä¸å¥½ã€‚

è®©æˆ‘ä»¬åˆ†è§£ä¸€ä¸‹è¿™é‡Œå‘ç”Ÿçš„äº‹æƒ…ï¼š

1. æˆ‘ä»¬å¯¼å…¥`useLocalRemarkForm`è‡ªå®šä¹‰hookï¼Œä»¥ä¾¿åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å®ƒã€‚
2. ä¸ä¹‹å‰ä¸€æ ·ï¼ŒGraphQLæŸ¥è¯¢ä¸­éœ€è¦`...TinaRemark`ç‰‡æ®µã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨é‚£é‡Œæ·»åŠ å®ƒã€‚
3. å½“æˆ‘ä»¬ä»Gatsbyçš„`useStaticQuery` hookä¸­è·å–æ•°æ®åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¥æ•°æ®è°ƒç”¨TinaCMSçš„`useLocalRemarkForm` hookã€‚æ­¤hookå°†è¿”å›ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå…ƒç´ çš„æ•°ç»„ã€‚ç¬¬ä¸€ä¸ªå…ƒç´ å®é™…ä¸Šæ˜¯æˆ‘ä»¬è°ƒç”¨hookæ—¶çš„æ•°æ®ã€‚å®ƒå…·æœ‰ç›¸åŒçš„å½¢çŠ¶ï¼Œå¹¶å‡†å¤‡å¥½åœ¨æˆ‘ä»¬çš„ç»„ä»¶ä¸­ä½¿ç”¨ã€‚ç¬¬äºŒä¸ªå…ƒç´ æ˜¯Tinaè¡¨å•çš„å¼•ç”¨ã€‚æˆ‘ä»¬ä¸éœ€è¦é‚£ä¸ªï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å°†å…¶è§£æ„å‡ºæ¥ï¼Œå°±åƒæˆ‘ä»¬å¯¹`markdownRemark`æ‰€åšçš„é‚£æ ·ã€‚

å¦‚æœæ‚¨å¯¹è¿™ä¸€è¡Œæ„Ÿåˆ°ç–‘æƒ‘ï¼š

```javascript
const [markdownRemark] = useLocalRemarkForm(heroData.markdownRemark)
```

è¿™æ˜¯[ES6è§£æ„](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment)çš„ä¸€ä¸ªä¾‹å­ã€‚ç”±äºæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œæˆ‘è§£æ„å‡ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆå³æˆ‘ä»¬çš„æ•°æ®ï¼‰å¹¶å°†å…¶å‘½åä¸º`markdownRemark`ã€‚æ‚¨å¯ä»¥éšæ„å‘½åã€‚

### RemarkForm - æ¸²æŸ“Propsç»„ä»¶

æ‚¨ä¸èƒ½åœ¨ç±»ç»„ä»¶ä¸Šä½¿ç”¨React Hooksã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆTinaæä¾›äº†ä¸€ä¸ªä½¿ç”¨[æ¸²æŸ“Props](https://reactjs.org/docs/render-props.html)æ¨¡å¼çš„[`RemarkForm`](/docs/guides/converting-gatsby-to-tina)ç»„ä»¶ã€‚

æ­¤ç»„ä»¶é€‚ç”¨äºPageå’ŒStatic Queriesã€‚æˆ‘å°†åœ¨ä¸‹é¢å±•ç¤ºå¦‚ä½•ä¸Page Queryä¸€èµ·ä½¿ç”¨ã€‚

è¯·çœ‹ä¸‹é¢çš„ç¤ºä¾‹ï¼š

```javascript
// 1. å¯¼å…¥RemarkFormæ¸²æŸ“Propsç»„ä»¶
import { RemarkForm } from '@tinacms/gatsby-tinacms-remark'

class StarWarsMovie extends React.Component {
  render() {
    /*
     ** 2. è¿”å›RemarkFormï¼Œä¼ å…¥markdownRemark
     **    åˆ°remark propå¹¶ä¼ å…¥æ‚¨æƒ³è¦æ¸²æŸ“çš„å†…å®¹åˆ°render prop
     */
    return (
      <RemarkForm
        remark={this.props.data.markdownRemark}
        render={({ markdownRemark }) => {
          return <h1>{markdownRemark.frontmatter.title}</h1>
        }}
      />
    )
  }
}

export default StarWarsMovie

// 3. å°†æ‰€éœ€çš„...TinaRemarkç‰‡æ®µæ·»åŠ åˆ°æ‚¨çš„Page Queryä¸­
export const pageQuery = graphql`
  query StarWarsMovieById($id: String!) {
    markdownRemark(fields: { id: { eq: $id } }) {
      id
      html
      frontmatter {
        title
        releaseDate
        crawl
      }
      ...TinaRemark
    }
  }
`
```

å¥½çš„ï¼Œå†æ¬¡è®©æˆ‘ä»¬çœ‹çœ‹è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼š

1. æˆ‘ä»¬å¯¼å…¥`RemarkForm`ç»„ä»¶ä»¥ä¾¿åœ¨ä»£ç ä¸­ä½¿ç”¨ã€‚
2. åœ¨æˆ‘ä»¬çš„è¿”å›è¯­å¥ä¸­ï¼Œæˆ‘ä»¬è¿”å›`RemarkForm`ç»„ä»¶å¹¶ä¼ å…¥å…¶é¢„å®šä¹‰å’Œå¿…éœ€çš„propsã€‚remark propæä¾›`RemarkForm`ä»Page Queryè·å–çš„Markdownæ•°æ®ã€‚render propé€šè¿‡å‡½æ•°æˆ–æ¸²æŸ“propè·å–æˆ‘ä»¬æƒ³è¦æ¸²æŸ“çš„JSXã€‚`RemarkForm`å°†è¿æ¥Tinaä»¥ç¼–è¾‘æ•°æ®ï¼Œç„¶åæ¸²æŸ“åœ¨render propå‡½æ•°ä¸­æŒ‡å®šçš„å†…å®¹ã€‚
3. ä¸ä¹‹å‰ä¸€æ ·ï¼Œæˆ‘ä»¬å¿…é¡»å°†`...TinaRemark`ç‰‡æ®µæ·»åŠ åˆ°Page Queryä¸­ã€‚

## ä¸‹ä¸€æ­¥

**å°±æ˜¯è¿™æ ·**ï¼åœ¨Gatsbyä¸­ä½¿ç”¨Tinaç¼–è¾‘Markdownæ–‡ä»¶çš„ä¸‰ç§æ–¹å¼ã€‚ğŸ‰

åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•*åœ¨Gatsbyä¸­è®¾ç½®Tinaä¸Static Querieså’ŒPage Queries*ã€‚æˆ‘ä»¬è¿˜æ ¹æ®æ‚¨çš„Reactç»„ä»¶ç±»å‹å­¦ä¹ äº†ä¸‰ç§ä¸åŒçš„æ–¹å¼æ¥ä½¿ç”¨Tinaç¼–è¾‘Markdownã€‚

è¿™åªæ˜¯è®©æ‚¨å…¥é—¨çš„åŸºç¡€ã€‚å¦‚æœæ‚¨å–œæ¬¢Tinaå¹¶æƒ³äº†è§£æ›´å¤šï¼Œæ‚¨åº”è¯¥æŸ¥çœ‹[å®˜æ–¹æ–‡æ¡£](/docs/)ã€‚é‚£é‡Œæœ‰å¾ˆå¤šå†…å®¹å¯ä»¥é˜…è¯»ï¼Œè¿˜æœ‰ä¸€äº›æœ‰è¶£çš„ç”¨ä¾‹ã€‚

ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å­¦ä¹ å¦‚ä½•åº”ç”¨[å†…è”ç¼–è¾‘](/docs/contextual-editing/overview)ï¼Œä»¥åŠå¦‚ä½•åœ¨Tinaä¾§è¾¹æ ä¸­[è‡ªå®šä¹‰è¡¨å•å­—æ®µ](/docs/plugins/fields)ã€‚

Tinaæ˜¯Reactç”Ÿæ€ç³»ç»Ÿå’Œé™æ€ç½‘ç«™ç”Ÿæˆå™¨å¦‚Gatsbyçš„ä¸€ä¸ªå¾ˆå¥½çš„è¡¥å……ã€‚å®ƒä¸ºæ‚¨çš„ç½‘ç«™æä¾›äº†ä¸€ç§æ„‰å¿«ä¸”ç®€å•çš„æ–¹å¼æ¥ç¼–è¾‘å’Œä¸æ‚¨çš„å†…å®¹äº’åŠ¨ã€‚
æˆ‘å¾ˆé«˜å…´çœ‹åˆ°TinaCMSä¼šæœ‰å¤šå¤§ï¼Œä»¥åŠå®ƒåœ¨å‘å±•è¿‡ç¨‹ä¸­èƒ½åšäº›ä»€ä¹ˆï¼

## æ›´å¤šé˜…è¯»å’Œå­¦ä¹ 

è§‚çœ‹æˆ‘çš„[Tina & Gatsbyæ•™ç¨‹](https://www.youtube.com/watch?v=eZWJ9ZtF61A\&t=265s)ã€‚ä¹Ÿå¯ä»¥åœ¨Twitterä¸Šæ‰¾åˆ°æˆ‘â€”â€”[@weibenfalk](https://twitter.com/weibenfalk)ï¼Œ[Youtube](https://www.youtube.com/c/weibenfalk)ï¼Œæˆ–åœ¨æˆ‘çš„[ç½‘ç«™](https://www.weibenfalk.com)ä¸Šã€‚